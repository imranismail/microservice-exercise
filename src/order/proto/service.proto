syntax = "proto3";

service Order {
  rpc Create(Order) returns (Order) {}
  rpc Cancel(Order) returns (Order) {}
  rpc Get(Order.id) returns (Order) {}
}

message Order {
  enum Status {
    created = 0;
    confirmed = 1;
    cancelled = 2;
    delivered = 3;
  }

  message Item {
    string title = 0;
    string body = 1;
    double amount = 2;
  }

  uint32 id = 0;
  Status status = 1;
  repeated Item items = 2;
}